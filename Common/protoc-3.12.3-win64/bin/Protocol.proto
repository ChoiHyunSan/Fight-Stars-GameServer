syntax = "proto3";

package Protocol;
import "google/protobuf/timestamp.proto";
option csharp_namespace = "Google.Protobuf.Protocol";

enum MsgId {
  C_ENTER_ROOM = 0;
  S_ENTER_ROOM = 1;
  C_READY_COMPLETE_GAME = 2;
  S_READY_COMPLETE_GAME = 3;
}

message C_EnterRoom {
  string roomId = 1;
  string password = 2;
  int32 userId = 3;
}

message S_EnterRoom {
  int32 playerCount = 1;
  repeated PlayerInfo playerInfos = 2;

  enum EnterResult {
    SUCCESS = 0;
    INVALID_ID = 1;
    ACCESS_DENIED = 2;
  }

  message SpawnPos {
    int32 x = 1;
    int32 y = 2;
  }

  message PlayerInfo {
    int32 userId = 1;
    int32 skinId = 2;
    SpawnPos spawnPos = 3;
  }
}

message C_ReadyCompleteGame {
  int32 userId = 1;
}

message S_ReadyCompleteGame {
  google.protobuf.Timestamp startTime = 1;
}
